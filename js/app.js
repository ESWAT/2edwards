(function(){var a,b,c;c=1080,a=828,b=d3.select(".app-map").append("svg").attr("width",c).attr("height",a),d3.json("assets/ottawa_neighborhood_survey.geojson",function(d){var e,f,g,h,i,j,k,l;f=d3.geo.centroid(d),k=150,h=[c/1.5,a/3],j=d3.geo.mercator().scale(k).center(f).translate(h),i=d3.geo.path().projection(j),e=i.bounds(d),g=k*c/(e[1][0]-e[0][0]),l=k*a/(e[1][1]-e[0][1]),k=l>g?g:l,h=[c-(e[0][0]+e[1][0])/2,a-(e[0][1]+e[1][1])/2],j=d3.geo.mercator().center(f).scale(k).translate(h),i=i.projection(j),b.append("rect").attr("width",c).attr("height",a).style("fill","none"),b.selectAll("path").data(d.features).enter().append("path").attr("d",i).style("fill","red").style("stroke-width","1").style("stroke","black")})}).call(this);